angular.module("mm.foundation",["mm.foundation.accordion","mm.foundation.alert","mm.foundation.bindHtml","mm.foundation.buttons","mm.foundation.position","mm.foundation.mediaQueries","mm.foundation.dropdownToggle","mm.foundation.interchange","mm.foundation.transition","mm.foundation.modal","mm.foundation.offcanvas","mm.foundation.tooltip","mm.foundation.popover","mm.foundation.progressbar","mm.foundation.rating","mm.foundation.tabs","mm.foundation.topbar","mm.foundation.tour","mm.foundation.typeahead"]);angular.module("mm.foundation.accordion",[]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(n,t,i){this.groups=[];this.closeOthers=function(r){var u=angular.isDefined(t.closeOthers)?n.$eval(t.closeOthers):i.closeOthers;u&&angular.forEach(this.groups,function(n){n!==r&&(n.isOpen=!1)})};this.addGroup=function(n){var t=this;this.groups.push(n);n.$on("$destroy",function(){t.removeGroup(n)})};this.removeGroup=function(n){var t=this.groups.indexOf(n);t!==-1&&this.groups.splice(this.groups.indexOf(n),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function(n){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:function(){this.setHeading=function(n){this.heading=n}},link:function(t,i,r,u){var f,e;u.addGroup(t);t.isOpen=!1;r.isOpen&&(f=n(r.isOpen),e=f.assign,t.$parent.$watch(f,function(n){t.isOpen=!!n}));t.$watch("isOpen",function(n){n&&u.closeOthers(t);e&&e(t.$parent,n)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(n,t,i){return function(n,t,r,u){u.setHeading(i(n,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(n,t,i,r){n.$watch(function(){return r[i.accordionTransclude]},function(n){n&&(t.html(""),t.append(n))})}}});angular.module("mm.foundation.alert",[]).controller("AlertController",["$scope","$attrs",function(n,t){n.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}});angular.module("mm.foundation.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(n,t,i){t.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe);n.$watch(i.bindHtmlUnsafe,function(n){t.html(n||"")})}});angular.module("mm.foundation.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(n){this.activeClass=n.activeClass;this.toggleEvent=n.toggleEvent}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,n.$eval(i.btnRadio)))};t.bind(f.toggleEvent,function(){t.hasClass(f.activeClass)||n.$apply(function(){u.$setViewValue(n.$eval(i.btnRadio));u.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){function e(){return o(i.btnCheckboxTrue,!0)}function s(){return o(i.btnCheckboxFalse,!1)}function o(t,i){var r=n.$eval(t);return angular.isDefined(r)?r:i}var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,e()))};t.bind(f.toggleEvent,function(){n.$apply(function(){u.$setViewValue(t.hasClass(f.activeClass)?s():e());u.$render()})})}}});angular.module("mm.foundation.position",[]).factory("$position",["$document","$window",function(n,t){function i(n,i){return n.currentStyle?n.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(n)[i]:n.style[i]}function r(n){return(i(n,"position")||"static")==="static"}var u=function(t){for(var u=n[0],i=t.offsetParent||u;i&&i!==u&&r(i);)i=i.offsetParent;return i||u};return{position:function(t){var e=this.offset(t),r={top:0,left:0},i=u(t[0]),f;return i!=n[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft),f=t[0].getBoundingClientRect(),{width:f.width||t.prop("offsetWidth"),height:f.height||t.prop("offsetHeight"),top:e.top-r.top,left:e.left-r.left}},offset:function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].body.scrollTop||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].body.scrollLeft||n[0].documentElement.scrollLeft)}}}}]);angular.module("mm.foundation.mediaQueries",[]).factory("matchMedia",["$document","$window",function(n,t){return t.matchMedia||function(n){var u,i=n.documentElement,f=i.firstElementChild||i.firstChild,r=n.createElement("body"),t=n.createElement("div");return t.id="mq-test-1",t.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(t),function(n){return t.innerHTML='&shy;<style media="'+n+'"> #mq-test-1 { width: 42px; }<\/style>',i.insertBefore(r,f),u=t.offsetWidth===42,i.removeChild(r),{matches:u,media:n}}}(n[0])}]).factory("mediaQueries",["$document","matchMedia",function(n,t){var i=angular.element(n[0].querySelector("head")),r,u;return i.append('<meta class="foundation-mq-topbar" />'),i.append('<meta class="foundation-mq-small" />'),i.append('<meta class="foundation-mq-medium" />'),i.append('<meta class="foundation-mq-large" />'),r=/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,u={topbar:getComputedStyle(i[0].querySelector("meta.foundation-mq-topbar")).fontFamily.replace(r,""),small:getComputedStyle(i[0].querySelector("meta.foundation-mq-small")).fontFamily.replace(r,""),medium:getComputedStyle(i[0].querySelector("meta.foundation-mq-medium")).fontFamily.replace(r,""),large:getComputedStyle(i[0].querySelector("meta.foundation-mq-large")).fontFamily.replace(r,"")},{topbarBreakpoint:function(){return!t(u.topbar).matches},small:function(){return t(u.small).matches},medium:function(){return t(u.medium).matches},large:function(){return t(u.large).matches}}}]);angular.module("mm.foundation.dropdownToggle",["mm.foundation.position","mm.foundation.mediaQueries"]).controller("DropdownToggleController",["$scope","$attrs","mediaQueries",function(n,t,i){this.small=function(){return i.small()&&!i.medium()}}]).directive("dropdownToggle",["$document","$window","$location","$position",function(n,t,i,r){var f=null,u=angular.noop;return{restrict:"CA",scope:{dropdownToggle:"@"},controller:"DropdownToggleController",link:function(i,e,o,s){var c=e.parent(),h=angular.element(n[0].querySelector(i.dropdownToggle)),a=function(){return c.hasClass("has-dropdown")},l=function(o){var b,v,w;if(h=angular.element(n[0].querySelector(i.dropdownToggle)),b=e===f,o.preventDefault(),o.stopPropagation(),!f||u(),!b&&!e.hasClass("disabled")&&!e.prop("disabled")){h.css("display","block");var y=r.offset(e),p=r.offset(angular.element(h[0].offsetParent)),k=h.prop("offsetWidth"),l={top:y.top-p.top+y.height+"px"};s.small()?(l.left=Math.max((p.width-k)/2,8)+"px",l.position="absolute",l.width="95%",l["max-width"]="none"):(v=Math.round(y.left-p.left),w=t.innerWidth-k-8,v>w&&(v=w,h.removeClass("left").addClass("right")),l.left=v+"px",l.position=null,l["max-width"]=null);h.css(l);a()&&c.addClass("hover");f=e;u=function(){n.off("click",u);h.css("display","none");u=angular.noop;f=null;c.hasClass("hover")&&c.removeClass("hover")};n.on("click",u)}};h&&h.css("display","none");i.$watch("$location.path",function(){u()});e.on("click",l);e.on("$destroy",function(){e.off("click",l)})}}}]);angular.module("mm.foundation.interchange",["mm.foundation.mediaQueries"]).factory("interchangeQueries",["$document",function(n){for(var r,u,f={"default":"only screen",landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},e="foundation-mq-",i=["small","medium","large","xlarge","xxlarge"],o=angular.element(n[0].querySelector("head")),t=0;t<i.length;t++)o.append('<meta class="'+e+i[t]+'" />'),r=getComputedStyle(o[0].querySelector("meta."+e+i[t])),u=r.fontFamily.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),f[i[t]]=u;return f}]).factory("interchangeQueriesManager",["interchangeQueries",function(n){return{add:function(t,i){return!t||!i||!angular.isString(t)||!angular.isString(i)||!!n[t]?!1:(n[t]=i,!0)}}}]).factory("interchangeTools",["$window","matchMedia","interchangeQueries",function(n,t,i){var r=function(n){for(var i=n.split(/\[(.*?)\]/),r=i.length,t,u={};r--;)i[r].replace(/[\W\d]+/,"").length>4&&(t=/^(.+)\,\ \((.+)\)$/.exec(i[r]),!t||t.length!==3||(u[t[2]]=t[1]));return u},u=function(n){var r,u,f;for(r in n)if(u=i[r]||r,f=t(u),f.matches)return n[r];return};return{parseAttribute:r,findCurrentMediaFile:u}}]).directive("interchange",["$window","$rootScope","interchangeTools",function(n,t,i){var r=/[A-Za-z0-9-_]+\.(jpg|jpeg|png|gif|bmp|tiff)\ *,/i;return{restrict:"A",scope:!0,priority:450,compile:function(u,f){return u[0].nodeName!=="DIV"||r.test(f.interchange)||u.html('<ng-include src="currentFile"><\/ng-include>'),{pre:function(){},post:function(r,u,f){var o,s,e;s=u&&u[0]&&u[0].nodeName;r.fileMap=i.parseAttribute(f.interchange);switch(s){case"DIV":o=i.findCurrentMediaFile(r.fileMap);r.type=/[A-Za-z0-9-_]+\.(jpg|jpeg|png|gif|bmp|tiff)$/i.test(o)?"background":"include";break;case"IMG":r.type="image";break;default:return}e=function(n){var f=i.findCurrentMediaFile(r.fileMap);if(!r.currentFile||r.currentFile!==f){r.currentFile=f;switch(r.type){case"image":u.attr("src",r.currentFile);break;case"background":u.css("background-image","url("+r.currentFile+")")}t.$emit("replace",u,r);!n||r.$apply()}};e();n.addEventListener("resize",e);r.$on("$destroy",function(){n.removeEventListener("resize",e)})}}}}}]);angular.module("mm.foundation.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(n,t,i){function u(n){for(var t in n)if(f.style[t]!==undefined)return n[t]}var r=function(u,f,e){e=e||{};var s=n.defer(),o=r[e.animation?"animationEndEventName":"transitionEndEventName"],h=function(){i.$apply(function(){u.unbind(o,h);s.resolve(u)})};return o&&u.bind(o,h),t(function(){angular.isString(f)?u.addClass(f):angular.isFunction(f)?f(u):angular.isObject(f)&&u.css(f);o||s.resolve(u)}),s.promise.cancel=function(){o&&u.unbind(o,h);s.reject("Transition cancelled")},s.promise},f=document.createElement("trans");return r.transitionEndEventName=u({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),r.animationEndEventName=u({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),r}]);angular.module("mm.foundation.modal",["mm.foundation.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(t,i){n.push({key:t,value:i})},get:function(t){for(var i=0;i<n.length;i++)if(t==n[i].key)return n[i]},keys:function(){for(var i=[],t=0;t<n.length;t++)i.push(n[t].key);return i},top:function(){return n[n.length-1]},remove:function(t){for(var r=-1,i=0;i<n.length;i++)if(t==n[i].key){r=i;break}return n.splice(r,1)[0]},removeTop:function(){return n.splice(n.length-1,1)[0]},length:function(){return n.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(n,t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(i){i.animate=!1;t(function(){i.animate=!0});i.close=function(t){var i=n.getTop();i&&i.value.backdrop&&i.value.backdrop!="static"&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(i.key,"backdrop click"))}}}}]).directive("modalWindow",["$modalStack","$timeout",function(n,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(n,i,r){n.windowClass=r.windowClass||"";t(function(){n.animate=!0;i[0].querySelectorAll("[autofocus]").length>0?i[0].querySelectorAll("[autofocus]")[0].focus():i[0].querySelector("div").focus()})}}}]).factory("$modalStack",["$window","$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(n,t,i,r,u,f,e){function l(){for(var t=-1,i=o.keys(),n=0;n<i.length;n++)o.get(i[n]).value.backdrop&&(t=n);return t}function v(n){var i=r.find("body").eq(0),t=o.get(n).value;o.remove(n);y(t.modalDomEl,t.modalScope,300,function(){t.modalScope.$destroy();i.toggleClass(a,o.length()>0);p()})}function p(){if(c&&l()==-1){var n=s;y(c,s,150,function(){n.$destroy();n=null});c=undefined;s=undefined}}function y(n,r,u,f){function e(){e.done||(e.done=!0,n.remove(),f&&f())}var o,s;r.animate=!1;o=t.transitionEndEventName;o?(s=i(e,u),n.bind(o,function(){i.cancel(s);e();r.$apply()})):i(e,0)}var a="modal-open",c,s,o=e.createNew(),h={};return f.$watch(l,function(n){s&&(s.index=n)}),r.bind("keydown",function(n){var t;n.which===27&&(t=o.top(),t&&t.value.keyboard&&f.$apply(function(){h.dismiss(t.key)}))}),h.open=function(t,i){var e,y,v,w,p;o.add(t,{deferred:i.deferred,modalScope:i.scope,backdrop:i.backdrop,keyboard:i.keyboard});e=r.find("body").eq(0);y=l();y>=0&&!c&&(s=f.$new(!0),s.index=y,c=u("<div modal-backdrop><\/div>")(s),e.append(c));v=angular.element('<div class="reveal-modal" style="z-index:-1""><\/div>');e.append(v[0]);w=parseInt(getComputedStyle(v[0]).top)||0;v.remove();var b=n.pageYOffset||0,k=b+w,h=angular.element('<div modal-window style="visibility: visible; top:'+k+'px;"><\/div>');h.attr("window-class",i.windowClass);h.attr("index",o.length()-1);h.attr("animate","animate");h.html(i.content);p=u(h)(i.scope);o.top().value.modalDomEl=p;e.append(p);e.addClass(a)},h.close=function(n,t){var i=o.get(n).value;i&&(i.deferred.resolve(t),v(n))},h.dismiss=function(n,t){var i=o.get(n).value;i&&(i.deferred.reject(t),v(n))},h.dismissAll=function(n){for(var t=this.getTop();t;)this.dismiss(t.key,n),t=this.getTop()},h.getTop=function(){return o.top()},h}]).provider("$modal",function(){var n={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,i,r,u,f,e,o){function h(n){return n.template?r.when(n.template):u.get(n.templateUrl,{cache:f}).then(function(n){return n.data})}function c(n){var i=[];return angular.forEach(n,function(n){(angular.isFunction(n)||angular.isArray(n))&&i.push(r.when(t.invoke(n)))}),i}var s={};return s.open=function(t){var f=r.defer(),s=r.defer(),u={result:f.promise,opened:s.promise,close:function(n){o.close(u,n)},dismiss:function(n){o.dismiss(u,n)}},l;if(t=angular.extend({},n.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");return l=r.all([h(t)].concat(c(t.resolve))),l.then(function(n){var s=(t.scope||i).$new(),c,r,h;s.$close=u.close;s.$dismiss=u.dismiss;r={};h=1;t.controller&&(r.$scope=s,r.$modalInstance=u,angular.forEach(t.resolve,function(t,i){r[i]=n[h++]}),c=e(t.controller,r));o.open(u,{scope:s,deferred:f,content:n[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(n){f.reject(n)}),l.then(function(){s.resolve(!0)},function(){s.reject(!1)}),u},s}]};return n});angular.module("mm.foundation.offcanvas",[]).directive("offCanvasWrap",["$window",function(n){return{scope:{},restrict:"C",link:function(t,i){var r=angular.element(n),u=t.sidebar=i;t.hide=function(){u.removeClass("move-left");u.removeClass("move-right")};r.bind("resize.body",t.hide);t.$on("$destroy",function(){r.unbind("resize.body",t.hide)})},controller:["$scope",function(n){this.leftToggle=function(){n.sidebar.toggleClass("move-right")};this.rightToggle=function(){n.sidebar.toggleClass("move-left")};this.hide=function(){n.hide()}}]}}]).directive("leftOffCanvasToggle",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(n,t,i,r){t.on("click",function(){r.leftToggle()})}}}]).directive("rightOffCanvasToggle",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(n,t,i,r){t.on("click",function(){r.rightToggle()})}}}]).directive("exitOffCanvas",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(n,t,i,r){t.on("click",function(){r.hide()})}}}]).directive("offCanvasList",[function(){return{require:"^offCanvasWrap",restrict:"C",link:function(n,t,i,r){t.on("click",function(){r.hide()})}}}]);angular.module("mm.foundation.tooltip",["mm.foundation.position","mm.foundation.bindHtml"]).provider("$tooltip",function(){function r(n){var t="-";return n.replace(/[A-Z]/g,function(n,i){return(i?t:"")+n.toLowerCase()})}var i={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},t={};this.options=function(n){angular.extend(t,n)};this.setTriggers=function(t){angular.extend(n,t)};this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(u,f,e,o,s,h,c){return function(u,l,a){function w(t){var i=t||v.trigger||a,r=n[i]||i;return{show:i,hide:r}}var v=angular.extend({},i,t),b=r(u),y=c.startSymbol(),p=c.endSymbol(),k="<div "+b+'-popup title="'+y+"tt_title"+p+'" content="'+y+"tt_content"+p+'" placement="'+y+"tt_placement"+p+'" animation="tt_animation" is-open="tt_isOpen"><\/div>';return{restrict:"EA",scope:!0,compile:function(){var n=f(k);return function(t,i,r){function ot(){t.tt_isOpen?nt():g()}function g(){(!et||t.$eval(r[l+"Enable"]))&&(t.tt_popupDelay?(b=e(tt,t.tt_popupDelay,!1),b.then(function(n){n()})):tt()())}function nt(){t.$apply(function(){k()})}function tt(){return t.tt_content?(st(),p&&e.cancel(p),f.css({top:0,left:0,display:"block"}),a?s.find("body").append(f):i.after(f),ft(),t.tt_isOpen=!0,t.$digest(),ft):angular.noop}function k(){t.tt_isOpen=!1;e.cancel(b);t.tt_animation?p=e(d,500):d()}function st(){f&&d();f=n(t,function(){});t.$digest()}function d(){f&&(f.remove(),f=null)}var f,p,b,a=angular.isDefined(v.appendToBody)?v.appendToBody:!1,c=w(undefined),ut=!1,et=angular.isDefined(r[l+"Enable"]),ft=function(){var n,e,u,r;n=a?h.offset(i):h.position(i);e=f.prop("offsetWidth");u=f.prop("offsetHeight");switch(t.tt_placement){case"right":r={top:n.top+n.height/2-u/2,left:n.left+n.width+10};break;case"bottom":r={top:n.top+n.height+10,left:n.left};break;case"left":r={top:n.top+n.height/2-u/2,left:n.left-e-10};break;default:r={top:n.top-u-10,left:n.left}}r.top+="px";r.left+="px";f.css(r)},it,y,rt;t.tt_isOpen=!1;r.$observe(u,function(n){t.tt_content=n;!n&&t.tt_isOpen&&k()});r.$observe(l+"Title",function(n){t.tt_title=n});r[l+"Placement"]=r[l+"Placement"]||null;r.$observe(l+"Placement",function(n){t.tt_placement=angular.isDefined(n)&&n?n:v.placement});r[l+"PopupDelay"]=r[l+"PopupDelay"]||null;r.$observe(l+"PopupDelay",function(n){var i=parseInt(n,10);t.tt_popupDelay=isNaN(i)?v.popupDelay:i});it=function(){ut&&(angular.isFunction(c.show)?y():(i.unbind(c.show,g),i.unbind(c.hide,nt)))};y=function(){};r[l+"Trigger"]=r[l+"Trigger"]||null;r.$observe(l+"Trigger",function(n){it();y();c=w(n);angular.isFunction(c.show)?y=t.$watch(function(){return c.show(t,i,r)},function(n){return n?e(tt):e(k)}):c.show===c.hide?i.bind(c.show,ot):(i.bind(c.show,g),i.bind(c.hide,nt));ut=!0});rt=t.$eval(r[l+"Animation"]);t.tt_animation=angular.isDefined(rt)?!!rt:v.animation;r.$observe(l+"AppendToBody",function(n){a=angular.isDefined(n)?o(n)(t):a});a&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&k()});t.$on("$destroy",function(){e.cancel(p);e.cancel(b);it();y();d()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(n){return n("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(n){return n("tooltipHtmlUnsafe","tooltip","mouseenter")}]);angular.module("mm.foundation.popover",["mm.foundation.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(n){return n("popover","popover","click")}]);angular.module("mm.foundation.progressbar",["mm.foundation.transition"]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function(n,t,i,r){var f=this,u=[],e=angular.isDefined(t.max)?n.$parent.$eval(t.max):i.max,o=angular.isDefined(t.animate)?n.$parent.$eval(t.animate):i.animate;this.addBar=function(n,t){var r=0,i=n.$parent.$index;angular.isDefined(i)&&u[i]&&(r=u[i].value);u.push(n);this.update(t,n.value,r);n.$watch("value",function(n,i){n!==i&&f.update(t,n,i)});n.$on("$destroy",function(){f.removeBar(n)})};this.update=function(n,t,i){var u=this.getPercentage(t);o?(n.css("width",this.getPercentage(i)+"%"),r(n,{width:u+"%"})):n.css({transition:"none",width:u+"%"})};this.removeBar=function(n){u.splice(u.indexOf(n),1)};this.getPercentage=function(n){return Math.round(100*n/e)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude><\/div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,t,i,r){r.addBar(n,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,t,i,r){r.addBar(n,angular.element(t.children()[0]))}}});angular.module("mm.foundation.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(n,t,i,r){this.maxRange=angular.isDefined(t.max)?n.$parent.$eval(t.max):r.max;this.stateOn=angular.isDefined(t.stateOn)?n.$parent.$eval(t.stateOn):r.stateOn;this.stateOff=angular.isDefined(t.stateOff)?n.$parent.$eval(t.stateOff):r.stateOff;this.createRateObjects=function(n){for(var i={stateOn:this.stateOn,stateOff:this.stateOff},t=0,r=n.length;t<r;t++)n[t]=angular.extend({index:t},i,n[t]);return n};n.range=angular.isDefined(t.ratingStates)?this.createRateObjects(angular.copy(n.$parent.$eval(t.ratingStates))):this.createRateObjects(new Array(this.maxRange));n.rate=function(t){n.value===t||n.readonly||(n.value=t)};n.enter=function(t){n.readonly||(n.val=t);n.onHover({value:t})};n.reset=function(){n.val=angular.copy(n.value);n.onLeave()};n.$watch("value",function(t){n.val=t});n.readonly=!1;t.readonly&&n.$parent.$watch(i(t.readonly),function(t){n.readonly=!!t})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}});angular.module("mm.foundation.tabs",[]).controller("TabsetController",["$scope",function(n){var i=this,t=i.tabs=n.tabs=[];i.select=function(n){angular.forEach(t,function(n){n.active=!1});n.active=!0};i.addTab=function(n){t.push(n);(t.length===1||n.active)&&i.select(n)};i.removeTab=function(n){var r=t.indexOf(n),u;n.active&&t.length>1&&(u=r==t.length-1?r-1:r+1,i.select(t[u]));t.splice(r,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,t,i){n.vertical=angular.isDefined(i.vertical)?n.$parent.$eval(i.vertical):!1;n.justified=angular.isDefined(i.justified)?n.$parent.$eval(i.justified):!1;n.type=angular.isDefined(i.type)?n.$parent.$eval(i.type):"tabs"}}}).directive("tab",["$parse",function(n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,i,r){return function(t,i,u,f){var e,o;u.active?(e=n(u.active),o=e.assign,t.$parent.$watch(e,function(n,i){n!==i&&(t.active=!!n)}),t.active=e(t.$parent)):o=e=angular.noop;t.$watch("active",function(n){angular.isFunction(o)&&(o(t.$parent,n),n?(f.select(t),t.onSelect()):t.onDeselect())});t.disabled=!1;u.disabled&&t.$parent.$watch(n(u.disabled),function(n){t.disabled=!!n});t.select=function(){t.disabled||(t.active=!0)};f.addTab(t);t.$on("$destroy",function(){f.removeTab(t)});t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(n,t){n.$watch("headingElement",function(n){n&&(t.html(""),t.append(n))})}}}]).directive("tabContentTransclude",function(){function n(n){return n.tagName&&(n.hasAttribute("tab-heading")||n.hasAttribute("data-tab-heading")||n.tagName.toLowerCase()==="tab-heading"||n.tagName.toLowerCase()==="data-tab-heading")}return{restrict:"A",require:"^tabset",link:function(t,i,r){var u=t.$eval(r.tabContentTransclude);u.$transcludeFn(u.$parent,function(t){angular.forEach(t,function(t){n(t)?u.headingElement=t:i.append(t)})})}}});angular.module("mm.foundation.topbar",["mm.foundation.mediaQueries"]).factory("closest",[function(){return function(n,t){for(var r=function(n,t){for(var i=(n.parentNode||n.document).querySelectorAll(t),r=-1;i[++r]&&i[r]!=n;);return!!i[r]},i=n[0];i;){if(r(i,t))return angular.element(i);i=i.parentElement}return!1}}]).directive("topBar",["$timeout","$compile","$window","$document","mediaQueries",function(n,t,i,r,u){return{scope:{stickyClass:"@",backText:"@",stickyOn:"=",customBackText:"=",isHover:"=",mobileShowParentLink:"=",scrolltop:"="},restrict:"EA",replace:!0,templateUrl:"template/topbar/top-bar.html",transclude:!0,link:function(n,t){var f=n.topbar=t,o=f.parent(),e=angular.element(r[0].querySelector("body")),h=n.isSticky=function(){var t=o.hasClass(n.settings.stickyClass);return t&&n.settings.stickyOn==="all"?!0:t&&u.small()&&n.settings.stickyOn==="small"||t&&u.medium()&&n.settings.stickyOn==="medium"||t&&u.large()&&n.settings.stickyOn==="large"?!0:!1},c=function(){if(n.stickyTopbar&&n.isSticky()){var t=angular.element(r[0].querySelector("."+n.settings.stickyClass)),u=l;i.pageYOffset>u&&!t.hasClass("fixed")?(t.addClass("fixed"),e.css("padding-top",n.originalHeight+"px")):i.pageYOffset<=u&&t.hasClass("fixed")&&(t.removeClass("fixed"),e.css("padding-top",""))}},l,s;n.toggle=function(t){if(!u.topbarBreakpoint())return!1;var r=t===undefined?!f.hasClass("expanded"):t;r?f.addClass("expanded"):f.removeClass("expanded");n.settings.scrolltop?!r&&f.hasClass("fixed")?(f.parent().addClass("fixed"),f.removeClass("fixed"),e.css("padding-top",n.originalHeight+"px")):r&&f.parent().hasClass("fixed")&&(f.parent().removeClass("fixed"),f.addClass("fixed"),e.css("padding-top",""),i.scrollTo(0,0)):(h()&&f.parent().addClass("fixed"),f.parent().hasClass("fixed")&&(r?(f.addClass("fixed"),f.parent().addClass("expanded"),e.css("padding-top",n.originalHeight+"px")):(f.removeClass("fixed"),f.parent().removeClass("expanded"),c())))};o.hasClass("fixed")||h()?(n.stickyTopbar=!0,n.height=o[0].offsetHeight,l=o[0].getBoundingClientRect().top):n.height=f[0].offsetHeight;n.originalHeight=n.height;n.$watch("height",function(n){n?f.css("height",n+"px"):f.css("height","")});s=u.topbarBreakpoint();angular.element(i).bind("resize",function(){var i=u.topbarBreakpoint(),t;s!==i&&(s=u.topbarBreakpoint(),f.removeClass("expanded"),f.parent().removeClass("expanded"),n.height="",t=angular.element(f[0].querySelectorAll("section")),angular.forEach(t,function(n){angular.element(n.querySelectorAll("li.moved")).removeClass("moved")}),n.$apply())});angular.element(i).bind("scroll",function(){c();n.$apply()});n.$on("$destroy",function(){angular.element(i).unbind("scroll");angular.element(i).unbind("resize")});o.hasClass("fixed")&&e.css("padding-top",n.originalHeight+"px")},controller:["$window","$scope","closest",function(t,i,f){var o,e,s;i.settings={};i.settings.stickyClass=i.stickyClass||"sticky";i.settings.backText=i.backText||"Back";i.settings.stickyOn=i.stickyOn||"all";i.settings.customBackText=i.customBackText===undefined?!0:i.customBackText;i.settings.isHover=i.isHover===undefined?!0:i.isHover;i.settings.mobileShowParentLink=i.mobileShowParentLink===undefined?!0:i.mobileShowParentLink;i.settings.scrolltop=i.scrolltop===undefined?!0:i.scrolltop;this.settings=i.settings;i.index=0;o=function(n){var i=n.offsetHeight,t=n.currentStyle||getComputedStyle(n);return i+(parseInt(t.marginTop,10)+parseInt(t.marginBottom,10))};e=[];this.addSection=function(n){e.push(n)};this.removeSection=function(n){var t=e.indexOf(n);t>-1&&e.splice(t,1)};s=/rtl/i.test(r.find("html").attr("dir"))?"right":"left";i.$watch("index",function(n){for(var t=0;t<e.length;t++)e[t].move(s,n)});this.toggle=function(n){i.toggle(n);for(var t=0;t<e.length;t++)e[t].reset();i.index=0;i.height="";i.$apply()};this.back=function(t){if(!(i.index<1)&&u.topbarBreakpoint()){var e=angular.element(t.currentTarget),r=f(e,"li.moved"),s=r.parent();i.index=i.index-1;i.height=i.index===0?"":i.originalHeight+o(s[0]);n(function(){r.removeClass("moved")},300)}};this.forward=function(n){if(!u.topbarBreakpoint())return!1;var t=angular.element(n.currentTarget),r=f(t,"li");r.addClass("moved");i.height=i.originalHeight+o(t.parent()[0].querySelector("ul"));i.index=i.index+1;i.$apply()}}]}}]).directive("toggleTopBar",["closest",function(n){return{scope:{},require:"^topBar",restrict:"A",replace:!0,templateUrl:"template/topbar/toggle-top-bar.html",transclude:!0,link:function(t,i,r,u){i.bind("click",function(t){var i=n(angular.element(t.currentTarget),"li");i.hasClass("back")||i.hasClass("has-dropdown")||u.toggle()});t.$on("$destroy",function(){i.unbind("click")})}}}]).directive("topBarSection",["$compile","closest",function(n,t){return{scope:{},require:"^topBar",restrict:"EA",replace:!0,templateUrl:"template/topbar/top-bar-section.html",transclude:!0,link:function(n,i,r,u){var f=i,e;n.reset=function(){angular.element(f[0].querySelectorAll("li.moved")).removeClass("moved")};n.move=function(n,t){n==="left"?f.css({left:t*-100+"%"}):f.css({right:t*-100+"%"})};u.addSection(n);n.$on("$destroy",function(){u.removeSection(n)});e=f[0].querySelectorAll("li>a");angular.forEach(e,function(i){var r=angular.element(i),f=t(r,"li");f.hasClass("has-dropdown")||f.hasClass("back")||f.hasClass("title")||(r.bind("click",function(){u.toggle(!1)}),n.$on("$destroy",function(){r.bind("click")}))})}}}]).directive("hasDropdown",["mediaQueries",function(n){return{scope:{},require:"^topBar",restrict:"A",templateUrl:"template/topbar/has-dropdown.html",replace:!0,transclude:!0,link:function(t,i,r,u){t.triggerLink=i.children("a")[0];var f=angular.element(t.triggerLink);f.bind("click",function(n){u.forward(n)});t.$on("$destroy",function(){f.unbind("click")});i.bind("mouseenter",function(){u.settings.isHover&&!n.topbarBreakpoint()&&i.addClass("not-click")});i.bind("click",function(){u.settings.isHover||n.topbarBreakpoint()||i.toggleClass("not-click")});i.bind("mouseleave",function(){i.removeClass("not-click")});t.$on("$destroy",function(){i.unbind("click");i.unbind("mouseenter");i.unbind("mouseleave")})},controller:["$window","$scope",function(n,t){this.triggerLink=t.triggerLink}]}}]).directive("topBarDropdown",["$compile",function(n){return{scope:{},require:["^topBar","^hasDropdown"],restrict:"A",replace:!0,templateUrl:"template/topbar/top-bar-dropdown.html",transclude:!0,link:function(t,i,r,u){var f=u[0],h=u[1],e=angular.element(h.triggerLink),o=e.attr("href"),s;t.linkText=e.text();t.back=function(n){f.back(n)};t.backText=f.settings.customBackText?f.settings.backText:"&laquo; "+e.html();s=f.settings.mobileShowParentLink&&o&&o.length>1?angular.element('<li class="title back js-generated"><h5><a href="#" ng-click="back($event);">{{backText}}<\/a><\/h5><\/li><li><a class="parent-link js-generated" href="'+o+'">{{linkText}}<\/a><\/li>'):angular.element('<li class="title back js-generated"><h5><a href="" ng-click="back($event);">{{backText}}<\/a><\/h5><\/li>');n(s)(t);i.prepend(s)}}}]);angular.module("mm.foundation.tour",["mm.foundation.position","mm.foundation.tooltip"]).service("$tour",["$window",function(n){function u(){return parseInt(n.localStorage.getItem("mm.tour.step"),10)}function i(i){t=i;n.localStorage.setItem("mm.tour.step",i)}var t=u(),r={};this.add=function(n,t){r[n]=t};this.has=function(n){return!!r[n]};this.isActive=function(){return t>0};this.current=function(n){if(n)i(t);else return t};this.start=function(){i(1)};this.next=function(){i(t+1)};this.end=function(){i(0)}}]).directive("stepTextPopup",["$tour",function(n){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tour/tour.html",link:function(t,i){t.isLastStep=function(){return!n.has(n.current()+1)};t.endTour=function(){i.remove();n.end()};t.nextStep=function(){i.remove();n.next()}}}}]).directive("stepText",["$position","$tooltip","$tour","$window",function(n,t,i,r){function u(n){var t=n[0].getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=r.innerHeight-80&&t.right<=r.innerWidth}function f(t,f,e){var o=parseInt(e.stepIndex,10),s;return i.isActive()&&o&&(i.add(o,e),o===i.current())?(u(f)||(s=n.offset(f),r.scrollTo(0,s.top-r.innerHeight/2)),!0):!1}return t("stepText","step",f)}]);angular.module("mm.foundation.typeahead",["mm.foundation.position","mm.foundation.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(i){var r=i.match(t);if(!r)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+i+"'.");return{itemName:r[3],source:n(r[4]),viewMapper:n(r[2]||r[1]),modelMapper:n(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(n,t,i,r,u,f,e){var o=[9,13,27,38,40];return{require:"ngModel",link:function(s,h,c,l){var ut=s.$eval(c.typeaheadMinLength)||1,tt=s.$eval(c.typeaheadWaitMs)||0,ft=s.$eval(c.typeaheadEditable)!==!1,p=t(c.typeaheadLoading).assign||angular.noop,et=t(c.typeaheadOnSelect),it=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):undefined,rt=c.typeaheadAppendToBody?t(c.typeaheadAppendToBody):!1,ot=t(c.ngModel).assign,v=e.parse(c.typeahead),w,b=angular.element("<div typeahead-popup><\/div>"),a,y,k,d,g,nt;b.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"});angular.isDefined(c.typeaheadTemplateUrl)&&b.attr("template-url",c.typeaheadTemplateUrl);a=s.$new();s.$on("$destroy",function(){a.$destroy()});y=function(){a.matches=[];a.activeIdx=-1};k=function(n){var t={$viewValue:n};p(s,!0);i.when(v.source(s,t)).then(function(i){if(n===l.$viewValue&&w){if(i.length>0){a.activeIdx=0;a.matches.length=0;for(var r=0;r<i.length;r++)t[v.itemName]=i[r],a.matches.push({label:v.viewMapper(a,t),model:i[r]});a.query=n;a.position=rt?f.offset(h):f.position(h);a.position.top=a.position.top+h.prop("offsetHeight")}else y();p(s,!1)}},function(){y();p(s,!1)})};y();a.query=undefined;l.$parsers.unshift(function(n){return n&&n.length>=ut?tt>0?(d&&r.cancel(d),d=r(function(){k(n)},tt)):k(n):(p(s,!1),y()),ft?n:n?(l.$setValidity("editable",!1),undefined):(l.$setValidity("editable",!0),n)});l.$formatters.push(function(n){var i,r,t={};return it?(t.$model=n,it(s,t)):(t[v.itemName]=n,i=v.viewMapper(s,t),t[v.itemName]=undefined,r=v.viewMapper(s,t),i!==r?i:n)});a.select=function(n){var t={},i,r;t[v.itemName]=r=a.matches[n].model;i=v.modelMapper(s,t);ot(s,i);l.$setValidity("editable",!0);et(s,{$item:r,$model:i,$label:v.viewMapper(s,t)});y();h[0].focus()};h.bind("keydown",function(n){a.matches.length!==0&&o.indexOf(n.which)!==-1&&(n.preventDefault(),n.which===40?(a.activeIdx=(a.activeIdx+1)%a.matches.length,a.$digest()):n.which===38?(a.activeIdx=(a.activeIdx?a.activeIdx:a.matches.length)-1,a.$digest()):n.which===13||n.which===9?a.$apply(function(){a.select(a.activeIdx)}):n.which===27&&(n.stopPropagation(),y(),a.$digest()))});h.bind("blur",function(){w=!1});h.bind("focus",function(){w=!0});g=function(n){h[0]!==n.target&&(y(),a.$digest())};u.bind("click",g);s.$on("$destroy",function(){u.unbind("click",g)});nt=n(b)(a);rt?u.find("body").append(nt):h.after(nt)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(n,t,i){n.templateUrl=i.templateUrl;n.isOpen=function(){return n.matches.length>0};n.isActive=function(t){return n.active==t};n.selectActive=function(t){n.active=t};n.selectMatch=function(t){n.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(n,t,i,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(u,f,e){var o=r(e.templateUrl)(u.$parent)||"template/typeahead/typeahead-match.html";n.get(o,{cache:t}).success(function(n){f.replaceWith(i(n.trim())(u))})}}}]).filter("typeaheadHighlight",function(){function n(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i?t.replace(new RegExp(n(i),"gi"),"<strong>$&<\/strong>"):t}});
//# sourceMappingURL=mm-foundation-0.5.1.min.js.map
